
pub fn opl_emu_attenuation_to_volume(input: u32) -> u32 {
    static S_POWER_TABLE: [u16; 256] = [
        0x3fa, 0x3f5, 0x3ef, 0x3ea, 0x3e4, 0x3df, 0x3da, 0x3d4, 0x3cf, 0x3c9, 0x3c4, 0x3bf, 0x3b9,
        0x3b4, 0x3ae, 0x3a9, 0x3a4, 0x39f, 0x399, 0x394, 0x38f, 0x38a, 0x384, 0x37f, 0x37a, 0x375,
        0x370, 0x36a, 0x365, 0x360, 0x35b, 0x356, 0x351, 0x34c, 0x347, 0x342, 0x33d, 0x338, 0x333,
        0x32e, 0x329, 0x324, 0x31f, 0x31a, 0x315, 0x310, 0x30b, 0x306, 0x302, 0x2fd, 0x2f8, 0x2f3,
        0x2ee, 0x2e9, 0x2e5, 0x2e0, 0x2db, 0x2d6, 0x2d2, 0x2cd, 0x2c8, 0x2c4, 0x2bf, 0x2ba, 0x2b5,
        0x2b1, 0x2ac, 0x2a8, 0x2a3, 0x29e, 0x29a, 0x295, 0x291, 0x28c, 0x288, 0x283, 0x27f, 0x27a,
        0x276, 0x271, 0x26d, 0x268, 0x264, 0x25f, 0x25b, 0x257, 0x252, 0x24e, 0x249, 0x245, 0x241,
        0x23c, 0x238, 0x234, 0x230, 0x22b, 0x227, 0x223, 0x21e, 0x21a, 0x216, 0x212, 0x20e, 0x209,
        0x205, 0x201, 0x1fd, 0x1f9, 0x1f5, 0x1f0, 0x1ec, 0x1e8, 0x1e4, 0x1e0, 0x1dc, 0x1d8, 0x1d4,
        0x1d0, 0x1cc, 0x1c8, 0x1c4, 0x1c0, 0x1bc, 0x1b8, 0x1b4, 0x1b0, 0x1ac, 0x1a8, 0x1a4, 0x1a0,
        0x19c, 0x199, 0x195, 0x191, 0x18d, 0x189, 0x185, 0x181, 0x17e, 0x17a, 0x176, 0x172, 0x16f,
        0x16b, 0x167, 0x163, 0x160, 0x15c, 0x158, 0x154, 0x151, 0x14d, 0x149, 0x146, 0x142, 0x13e,
        0x13b, 0x137, 0x134, 0x130, 0x12c, 0x129, 0x125, 0x122, 0x11e, 0x11b, 0x117, 0x114, 0x110,
        0x10c, 0x109, 0x106, 0x102, 0x0ff, 0x0fb, 0x0f8, 0x0f4, 0x0f1, 0x0ed, 0x0ea, 0x0e7, 0x0e3,
        0x0e0, 0x0dc, 0x0d9, 0x0d6, 0x0d2, 0x0cf, 0x0cc, 0x0c8, 0x0c5, 0x0c2, 0x0be, 0x0bb, 0x0b8,
        0x0b5, 0x0b1, 0x0ae, 0x0ab, 0x0a8, 0x0a4, 0x0a1, 0x09e, 0x09b, 0x098, 0x094, 0x091, 0x08e,
        0x08b, 0x088, 0x085, 0x082, 0x07e, 0x07b, 0x078, 0x075, 0x072, 0x06f, 0x06c, 0x069, 0x066,
        0x063, 0x060, 0x05d, 0x05a, 0x057, 0x054, 0x051, 0x04e, 0x04b, 0x048, 0x045, 0x042, 0x03f,
        0x03c, 0x039, 0x036, 0x033, 0x030, 0x02d, 0x02a, 0x028, 0x025, 0x022, 0x01f, 0x01c, 0x019,
        0x016, 0x014, 0x011, 0x00e, 0x00b, 0x008, 0x006, 0x003, 0x000,
    ];
    (S_POWER_TABLE[(input & 0xff) as usize] >> ((input >> 8) as u32)).into()
}

